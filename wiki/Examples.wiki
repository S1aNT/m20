= Примеры программ для М-20 =

Примеры взяты из книги Ляшенко.

== Пример 1 ==

Пусть требуется решить уравнение
|| 1/32 x^5^ - 3/4 x^2^ - x + 4.005 = 0 ||

если известно приближенное значение искомого корня
|| x,,0,, = 2.0 ||

Преобразуем уравнение к виду
|| x = 1/32 x^5^ - 3/4 x^2^ + 4.005 ||

Так как производная функции
|| у = 1/32 x^5^ - 3/4 x^2^ + 4.005 ||

в окрестности корня по абсолютной величине меньше единицы,
то итерационный процесс будет сходящимся.

Решать уравнение будем по формуле:
|| x,,i+1,, = 1/32 x,,i,,^5^ - 3/4 x,,i,,^2^ + 4.005 ||

пока не получим неравенства
|| | x,,i+1,, - x,,i,, | < ε ||

Исходные данные расположены так:
|| *Номер ячейки* || *0020*     || *0021* || *0022* || *0023*     || *0024* ||
|| Содержимое     || x,,0,, = 2 || 4.005  || 1/32   || ε = 0.0001 || 3/4    ||

Рабочие ячейки начинаются с ячейки номер 4000.

|| *Номер ячейки* || *Команда*           || *Вычисляемая величина* ||
||  0100          || 0 00 0020 0000 4000 || Засылка x,,0,,  ||
||  0101          || 0 05 4000 4000 4001 || x,,i,,^2^  ||
||  0102          || 0 05 4001 4000 4002 || x,,i,,^3^  ||
||  0103          || 0 05 4002 4001 4002 || x,,i,,^5^  ||
||  0104          || 0 05 0022 4002 4002 || 1/32 x,,i,,^5^  ||
||  0105          || 0 05 4001 0024 4001 || 3/4 x,,i,,^2^  ||
||  0106          || 0 02 4002 4001 4001 || 1/32 x,,i,,^5^ - 3/4 x,,i,,^2^  ||
||  0107          || 0 01 0021 4001 4001 || x,,i+1,, = 1/32 x,,i,,^5^ - 3/4 x,,i,,^2^ + 4.005 ||
||  0110          || 0 02 4001 4000 4002 || x,,i+1,, - x,,i,,  ||
||  0111          || 0 03 4002 0023 0000 || |x,,i+1,, - x,,i,, | - | ε | ||
||  0112          || 0 76 4001 0101 4000 || Пересылка x,,i+1, в 4000  ||
||  0113          || 0 77 0000 0000 0000 || Остановка  ||

Команда 0112 осуществляет передачу управления на следующую итерацию,
если
|| | x,,i+1,, - x,,i,, | - | ε | >= 0 ||

и засылает в 4000 новое значение x,,i,,.
После окончания итераций в ячейке 4000 находится корень уравнения
|| 1/32 x^5^ - 3/4 x^2^ - x + 4.005 = 0 ||

Входной файл для эмулятора: [http://code.google.com/p/m20/source/browse/trunk/as/example1.m20 example1.m20]. 

=== Пример 2 ===

Требуется вычислить значение sin x с точностью до 10^-4^ по ряду:
|| sin x = x - x^3^/3! + x^5^/5! - ... ||

Если после использования 20 членов ряда такая точность не достигается,
дальнейшие вычисления прекратить и остановить машину.

В ячейке a+1 записана единица, а в a+2 - одна десятитысячная;
x находится в ячейке a+3; вычисленное значение sin x должно быть
послано в ячейку a+4.

Заметим, что каждый член, начиная со второго, может быть получен из
предыдущего умножением его на
|| - x^2^ / (n+1) / (n+2) ||
где n - показатель степени при x в предыдущем члене. Так как ряд
для вычисления sin x знакопеременный, то остаточный член ряда,
определяющий точность, меньше по модулю последнего учтённого члена.

Программа для вычисления sin x может быть такой:

|| *Адрес* || *Команда*            || *Вычисляемая величина* ||
|| k+1     || 0 00 a+3  0000 a+4   || Засылка x  ||
|| k+2     || 0 00 a+3  0000 c+1   || Засылка x  ||
|| k+3     || 0 00 a+1  0000 c+2   || Засылка единицы  ||
|| k+4     || 0 05 a+3  a+3  c+3   || x^2^ ||
|| k+5     || 0 02 0000 c+3  c+3   || - x^2^ ||
|| k+6     || 0 52 0000 0000 0000  || Очистка РА  ||
|| k+7     || 0 01 c+2  a+1  c+2   || n + 1  ||
|| k+10    || 0 04 c+1  c+2  c+1   || 1/(n+1) x^n^/n! (-1)^n-1^ ||
|| k+11    || 0 01 c+2  a+1  c+2   || n + 2  ||
|| k+12    || 0 04 c+1  c+2  c+1   || 1/(n+1)/(n+2) x^n^/n! (-1)^n-1^ ||
|| k+13    || 0 05 c+3  c+1  c+1   || Вычисление члена ряда  ||
|| k+14    || 0 01 a+4  c+1  a+4   || Вычисление суммы ряда  ||
|| k+15    || 0 03 c+1  a+2  0000  || Проверка точности ||
|| k+16    || 1 51 0022 k+7  0001  ||   ||
|| k+17    || 0 36 0000 k+21 0000  || Обход остановки, если получена нужная точность ||
|| k+20    || 0 77 0000 0000 0000  || Остановка  ||
|| k+21    ||  . .. .... .... .... ||   ||

Входной файл для эмулятора: [http://code.google.com/p/m20/source/browse/trunk/as/example2.m20 example2.m20]. 